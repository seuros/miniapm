---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/ingest/errors
    body:
      encoding: UTF-8
      string: '{"exception_class":"RuntimeError","message":"Database connection lost","backtrace":["/Users/hasik/Projects/miniapm/gem/spec/integration/error_reporting_spec.rb:36:in
        `block (3 levels) in <top (required)>''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:263:in
        `instance_exec''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:263:in
        `block in run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:511:in
        `block in with_around_and_singleton_context_hooks''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:468:in
        `block in with_around_example_hooks''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/hooks.rb:486:in
        `block in run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/hooks.rb:626:in
        `block in run_around_example_hooks_for''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:352:in
        `call''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/webmock-3.26.1/lib/webmock/rspec.rb:39:in
        `block (2 levels) in <top (required)>''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:457:in
        `instance_exec''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:457:in
        `instance_exec''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/hooks.rb:390:in
        `execute_with''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/hooks.rb:628:in
        `block (2 levels) in run_around_example_hooks_for''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:352:in
        `call''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/hooks.rb:629:in
        `run_around_example_hooks_for''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/hooks.rb:486:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:468:in
        `with_around_example_hooks''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:511:in
        `with_around_and_singleton_context_hooks''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example.rb:259:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example_group.rb:653:in
        `block in run_examples''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example_group.rb:649:in
        `map''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example_group.rb:649:in
        `run_examples''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example_group.rb:614:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example_group.rb:615:in
        `block in run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example_group.rb:615:in
        `map''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/example_group.rb:615:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:121:in
        `block (3 levels) in run_specs''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:121:in
        `map''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:121:in
        `block (2 levels) in run_specs''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/configuration.rb:2097:in
        `with_suite_hooks''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:116:in
        `block in run_specs''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/reporter.rb:74:in
        `report''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:115:in
        `run_specs''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:89:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:71:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/lib/rspec/core/runner.rb:45:in
        `invoke''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/rspec-core-3.13.6/exe/rspec:4:in
        `<top (required)>''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/bin/rspec:25:in
        `load''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/bin/rspec:25:in
        `<top (required)>''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/cli/exec.rb:61:in
        `load''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/cli/exec.rb:61:in
        `kernel_load''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/cli/exec.rb:24:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/cli.rb:500:in
        `exec''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/vendor/thor/lib/thor/command.rb:28:in
        `run''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in
        `invoke_command''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/vendor/thor/lib/thor.rb:538:in
        `dispatch''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/cli.rb:35:in
        `dispatch''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/vendor/thor/lib/thor/base.rb:584:in
        `start''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/lib/bundler/cli.rb:29:in
        `start''","/Users/hasik/.local/share/mise/installs/ruby/3.3.10/lib/ruby/gems/3.3.0/gems/bundler-4.0.3/exe/bundle:28:in
        `block in <top (required)>''"],"fingerprint":"2a7b33ccb70c4acae47f16b3e5509e3f","request_id":"req-67890","user_id":"123","params":{"action":"index","controller":"users"},"timestamp":"2026-01-02T23:43:00Z"}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - miniapm-ruby/0.1.0
      Content-Type:
      - application/json
      Authorization:
      - Bearer <API_KEY>
  response:
    status:
      code: 202
      message: Accepted
    headers:
      Content-Length:
      - '0'
      Date:
      - Fri, 02 Jan 2026 23:43:00 GMT
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Fri, 02 Jan 2026 23:43:00 GMT
recorded_with: VCR 6.4.0
