<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniAPM - The smallest useful APM</title>
    <meta name="description" content="Self-hosted APM and error tracking built on OpenTelemetry. Single binary, SQLite storage, zero external dependencies.">
    <style>
        :root {
            --bg: #151922;
            --bg-card: #1e2430;
            --bg-hover: #262e3c;
            --text: #e8ecf2;
            --text-muted: #8896a8;
            --primary: #5b93d4;
            --primary-hover: #4a82c3;
            --accent: #e67e22;
            --success: #27ae60;
            --warning: #e67e22;
            --danger: #e74c3c;
            --border: #323d4d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Navigation */
        nav {
            padding: 1.5rem 0;
            border-bottom: 1px solid var(--border);
        }

        nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.625rem;
            text-decoration: none;
            color: var(--text);
        }

        .logo-icon {
            width: 28px;
            height: 28px;
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 600;
            letter-spacing: -0.02em;
        }

        .logo-text span {
            color: var(--accent);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9375rem;
            transition: color 0.15s;
        }

        .nav-links a:hover {
            color: var(--text);
        }

        /* Hero */
        .hero {
            padding: 6rem 0;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            letter-spacing: -0.03em;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--text) 0%, var(--text-muted) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero .subtitle {
            font-size: 1.25rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 2.5rem;
        }

        .hero .subtitle strong {
            color: var(--text);
            font-weight: 500;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.875rem 1.75rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.15s;
        }

        .btn-primary {
            background: var(--primary);
            color: #fff;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
        }

        .btn-secondary {
            background: var(--bg-card);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--text-muted);
        }

        /* Credibility */
        .credibility {
            padding: 3rem 0;
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        .credibility-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        .credibility-item {
            font-size: 0.9375rem;
        }

        .credibility-item strong {
            display: block;
            font-size: 1.125rem;
            color: var(--text);
            margin-bottom: 0.25rem;
        }

        .credibility-item span {
            color: var(--text-muted);
        }

        /* Sections */
        section {
            padding: 5rem 0;
        }

        section h2 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            letter-spacing: -0.02em;
        }

        section .lead {
            font-size: 1.125rem;
            color: var(--text-muted);
            max-width: 600px;
            margin-bottom: 3rem;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
        }

        .feature-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .feature-card p {
            color: var(--text-muted);
            font-size: 0.9375rem;
        }

        .feature-card ul {
            margin-top: 1rem;
            padding-left: 1.25rem;
            color: var(--text-muted);
            font-size: 0.9375rem;
        }

        .feature-card ul li {
            margin-bottom: 0.5rem;
        }

        .feature-card code {
            background: var(--bg);
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-size: 0.8125rem;
        }

        /* Problem Section */
        .problem {
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        .problem-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
        }

        @media (max-width: 768px) {
            .problem-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        .problem-list {
            list-style: none;
        }

        .problem-list li {
            padding: 0.75rem 0;
            padding-left: 1.75rem;
            position: relative;
            color: var(--text-muted);
        }

        .problem-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: 600;
        }

        .anti-list li::before {
            content: "√ó";
            color: var(--danger);
        }

        /* Code Block */
        .code-section {
            text-align: center;
        }

        .code-block {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            text-align: left;
            max-width: 800px;
            margin: 0 auto;
            overflow-x: auto;
        }

        .code-block pre {
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
            font-size: 0.875rem;
            line-height: 1.7;
            color: var(--text);
        }

        .code-block .comment {
            color: var(--text-muted);
        }

        .code-block .command {
            color: var(--success);
        }

        .code-block .output {
            color: #e67e22;
        }

        .code-block .env {
            color: var(--primary);
        }

        /* Audience */
        .audience-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .audience-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }

        .audience-item .icon {
            font-size: 2rem;
            margin-bottom: 0.75rem;
        }

        .audience-item h4 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .audience-item p {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        /* Philosophy */
        .philosophy {
            text-align: center;
            background: var(--bg-card);
            border-top: 1px solid var(--border);
        }

        .philosophy-grid {
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
        }

        .philosophy-item {
            font-size: 1rem;
        }

        .philosophy-item span {
            color: var(--success);
            margin-right: 0.5rem;
        }

        /* Footer */
        footer {
            padding: 3rem 0;
            border-top: 1px solid var(--border);
            text-align: center;
        }

        footer .links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        footer a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9375rem;
        }

        footer a:hover {
            color: var(--text);
        }

        footer .tagline {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        /* Responsive */
        @media (max-width: 640px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .hero .subtitle {
                font-size: 1.125rem;
            }

            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="container">
            <a href="/" class="logo">
                <svg class="logo-icon" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="22" width="7" height="16" rx="2" fill="currentColor"/>
                    <rect x="12" y="14" width="7" height="24" rx="2" fill="currentColor"/>
                    <rect x="22" y="6" width="7" height="32" rx="2" fill="currentColor"/>
                    <rect x="32" y="18" width="7" height="20" rx="2" fill="#e67e22"/>
                    <circle cx="35.5" cy="8" r="3" fill="#e67e22"/>
                </svg>
                <span class="logo-text">mini<span>APM</span></span>
            </a>
            <div class="nav-links">
                <a href="https://github.com/hasik/miniapm">GitHub</a>
                <a href="https://github.com/hasik/miniapm#readme">Docs</a>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <h1>The smallest useful APM.</h1>
            <p class="subtitle">
                A <strong>single-binary</strong>, self-hosted APM and error tracker built on <strong>OpenTelemetry</strong>.<br>
                Designed for small teams, side projects, and production systems that don't need a platform.
            </p>
            <div class="cta-buttons">
                <a href="#get-started" class="btn btn-primary">Get started in 2 minutes</a>
                <a href="https://github.com/hasik/miniapm" class="btn btn-secondary">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
                    View on GitHub
                </a>
            </div>
        </div>
    </section>

    <section class="credibility">
        <div class="container">
            <div class="credibility-grid">
                <div class="credibility-item">
                    <strong>~4MB</strong>
                    <span>Single binary</span>
                </div>
                <div class="credibility-item">
                    <strong>SQLite</strong>
                    <span>Zero-config storage</span>
                </div>
                <div class="credibility-item">
                    <strong>OTLP/HTTP</strong>
                    <span>OpenTelemetry native</span>
                </div>
                <div class="credibility-item">
                    <strong>Free</strong>
                    <span>No limits, no tiers</span>
                </div>
                <div class="credibility-item">
                    <strong>~18MB</strong>
                    <span>Docker image</span>
                </div>
                <div class="credibility-item">
                    <strong>Rust</strong>
                    <span>Fast & reliable</span>
                </div>
            </div>
        </div>
    </section>

    <section class="problem">
        <div class="container">
            <h2>Observability shouldn't require a platform team</h2>
            <p class="lead">
                Most APM tools today are either expensive SaaS platforms or require assembling multiple components. For many teams, both are overkill.
            </p>
            <div class="problem-grid">
                <div>
                    <h3 style="margin-bottom: 1rem; color: var(--success);">What you get with MiniAPM</h3>
                    <ul class="problem-list">
                        <li>Real visibility into production behavior</li>
                        <li>Traces and errors in one place</li>
                        <li>Setup in minutes, not days</li>
                        <li>Predictable resource usage</li>
                        <li>Full control over your data</li>
                        <li>No surprise bills, ever</li>
                    </ul>
                </div>
                <div>
                    <h3 style="margin-bottom: 1rem; color: var(--danger);">What you don't need</h3>
                    <ul class="problem-list anti-list">
                        <li>An agents zoo</li>
                        <li>Kubernetes or complex infrastructure</li>
                        <li>A dedicated platform team</li>
                        <li>Monthly cost calculations</li>
                        <li>Vendor lock-in</li>
                        <li>Data leaving your servers</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h2>What you get</h2>
            <p class="lead">Concrete features. No fluff.</p>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>Distributed Tracing</h3>
                    <p>Full request-to-response visibility with waterfall visualization.</p>
                    <ul>
                        <li>OTLP/HTTP ingestion</li>
                        <li>Span timeline with parent/child relationships</li>
                        <li>Database queries with statements</li>
                        <li>External HTTP calls</li>
                        <li>Filter by web, jobs, or commands</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>Error Tracking</h3>
                    <p>Exceptions with full context, automatically grouped by fingerprint.</p>
                    <ul>
                        <li>Stack traces with source context</li>
                        <li>Smart grouping by location and message</li>
                        <li>Status management (open / resolved / ignored)</li>
                        <li>Occurrence trends over time</li>
                        <li>Jump from error to related traces</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>Route Performance</h3>
                    <p>Know which endpoints need attention.</p>
                    <ul>
                        <li>P50, P95, P99 latencies</li>
                        <li>Request counts and throughput</li>
                        <li>Error rates per route</li>
                        <li>Database time breakdown</li>
                        <li>Sort and filter by any metric</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>N+1 Query Detection</h3>
                    <p>Automatically identifies repeated query patterns in your traces.</p>
                    <ul>
                        <li>Query pattern normalization</li>
                        <li>Configurable threshold (default: 5+)</li>
                        <li>Total time impact calculation</li>
                        <li>Per-trace detection</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>Deploy Tracking</h3>
                    <p>Correlate releases with performance and errors.</p>
                    <ul>
                        <li>Simple deploy API: <code>POST /ingest/deploys</code></li>
                        <li>Git SHA and version tracking</li>
                        <li>Deploy markers on dashboard</li>
                        <li>Compare before/after metrics</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>MCP Integration</h3>
                    <p>Built-in Model Context Protocol server for AI assistants.</p>
                    <ul>
                        <li>Connect Claude or other AI tools directly</li>
                        <li>Tools: <code>list_errors</code>, <code>error_details</code>, <code>slow_routes</code>, <code>system_status</code></li>
                        <li>Stdio mode for local use</li>
                        <li>HTTP mode with API key auth</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="code-section" id="get-started">
        <div class="container">
            <h2>Get started in 2 minutes</h2>
            <p class="lead" style="margin-left: auto; margin-right: auto;">
                Run MiniAPM, point your OpenTelemetry exporter at it, done.
            </p>
            <div class="code-block">
<pre><span class="comment"># 1. Run MiniAPM</span>
<span class="command">docker run -d -p 3000:3000 -v miniapm_data:/data ghcr.io/hasik/miniapm</span>

<span class="comment"># On first run, you'll see your API key:</span>
<span class="output">INFO miniapm::server: Single-project mode - API key: proj_abc123...</span>

<span class="comment"># 2. Configure your app to send traces</span>
<span class="env">OTEL_EXPORTER_OTLP_ENDPOINT</span>=http://localhost:3000/ingest
<span class="env">OTEL_EXPORTER_OTLP_HEADERS</span>=Authorization=Bearer proj_abc123...

<span class="comment"># 3. Open http://localhost:3000 ‚Äî that's it</span></pre>
            </div>
            <p style="margin-top: 2rem; color: var(--text-muted);">
                Using Rails? Add our <a href="https://github.com/hasik/miniapm/tree/main/gem" style="color: var(--primary);">miniapm gem</a> for zero-config instrumentation.<br>
                The API key is printed on every server start for easy access.
            </p>
        </div>
    </section>

    <section>
        <div class="container">
            <h2>Who this is for</h2>
            <p class="lead">MiniAPM is a good fit if you value simplicity and control.</p>
            <div class="audience-grid">
                <div class="audience-item">
                    <div class="icon">üöÄ</div>
                    <h4>Side Projects</h4>
                    <p>Production visibility without production costs</p>
                </div>
                <div class="audience-item">
                    <div class="icon">üè¢</div>
                    <h4>Small Startups</h4>
                    <p>Focus on building, not configuring</p>
                </div>
                <div class="audience-item">
                    <div class="icon">üîß</div>
                    <h4>Internal Tools</h4>
                    <p>Keep everything on your infrastructure</p>
                </div>
                <div class="audience-item">
                    <div class="icon">üíº</div>
                    <h4>Agencies</h4>
                    <p>Deploy per-client with zero marginal cost</p>
                </div>
                <div class="audience-item">
                    <div class="icon">üéØ</div>
                    <h4>Indie SaaS</h4>
                    <p>Professional observability, indie budget</p>
                </div>
                <div class="audience-item">
                    <div class="icon">üò§</div>
                    <h4>Platform Refugees</h4>
                    <p>Tired of heavyweight stacks</p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container" style="text-align: center;">
            <h2>What MiniAPM intentionally does not do</h2>
            <p class="lead" style="margin-left: auto; margin-right: auto;">
                If you need these, great tools exist already. MiniAPM focuses on making production behavior understandable, quickly.
            </p>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; color: var(--text-muted);">
                <span>High-cardinality metrics</span>
                <span>‚Ä¢</span>
                <span>Years of retention</span>
                <span>‚Ä¢</span>
                <span>Compliance dashboards</span>
                <span>‚Ä¢</span>
                <span>Enterprise SLO/SLA</span>
                <span>‚Ä¢</span>
                <span>Multi-region pipelines</span>
            </div>
        </div>
    </section>

    <section class="philosophy">
        <div class="container">
            <h2>Free. Open. Self-hosted.</h2>
            <p class="lead" style="margin-left: auto; margin-right: auto;">Your data stays on your machine.</p>
            <div class="philosophy-grid">
                <div class="philosophy-item"><span>‚úì</span>Free to use</div>
                <div class="philosophy-item"><span>‚úì</span>Open source</div>
                <div class="philosophy-item"><span>‚úì</span>No "open core"</div>
                <div class="philosophy-item"><span>‚úì</span>No artificial limits</div>
                <div class="philosophy-item"><span>‚úì</span>No telemetry about your telemetry</div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="links">
                <a href="https://github.com/hasik/miniapm">GitHub</a>
                <a href="https://github.com/hasik/miniapm#readme">Documentation</a>
                <a href="https://github.com/hasik/miniapm/issues">Issues & Roadmap</a>
                <a href="https://github.com/hasik/miniapm/blob/main/LICENSE">License</a>
            </div>
            <p class="tagline">Built for people who like small, sharp tools.</p>
        </div>
    </footer>
</body>
</html>
